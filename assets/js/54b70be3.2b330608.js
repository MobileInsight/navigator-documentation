"use strict";(self.webpackChunknavigator_documentation=self.webpackChunknavigator_documentation||[]).push([[315],{3905:(e,a,n)=>{n.d(a,{Zo:()=>p,kt:()=>g});var t=n(7294);function r(e,a,n){return a in e?Object.defineProperty(e,a,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[a]=n,e}function o(e,a){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);a&&(t=t.filter((function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable}))),n.push.apply(n,t)}return n}function i(e){for(var a=1;a<arguments.length;a++){var n=null!=arguments[a]?arguments[a]:{};a%2?o(Object(n),!0).forEach((function(a){r(e,a,n[a])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))}))}return e}function l(e,a){if(null==e)return{};var n,t,r=function(e,a){if(null==e)return{};var n,t,r={},o=Object.keys(e);for(t=0;t<o.length;t++)n=o[t],a.indexOf(n)>=0||(r[n]=e[n]);return r}(e,a);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(t=0;t<o.length;t++)n=o[t],a.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var s=t.createContext({}),u=function(e){var a=t.useContext(s),n=a;return e&&(n="function"==typeof e?e(a):i(i({},a),e)),n},p=function(e){var a=u(e.components);return t.createElement(s.Provider,{value:a},e.children)},m="mdxType",d={inlineCode:"code",wrapper:function(e){var a=e.children;return t.createElement(t.Fragment,{},a)}},c=t.forwardRef((function(e,a){var n=e.components,r=e.mdxType,o=e.originalType,s=e.parentName,p=l(e,["components","mdxType","originalType","parentName"]),m=u(n),c=r,g=m["".concat(s,".").concat(c)]||m[c]||d[c]||o;return n?t.createElement(g,i(i({ref:a},p),{},{components:n})):t.createElement(g,i({ref:a},p))}));function g(e,a){var n=arguments,r=a&&a.mdxType;if("string"==typeof e||r){var o=n.length,i=new Array(o);i[0]=c;var l={};for(var s in a)hasOwnProperty.call(a,s)&&(l[s]=a[s]);l.originalType=e,l[m]="string"==typeof e?e:r,i[1]=l;for(var u=2;u<o;u++)i[u]=n[u];return t.createElement.apply(null,i)}return t.createElement.apply(null,n)}c.displayName="MDXCreateElement"},2459:(e,a,n)=>{n.r(a),n.d(a,{assets:()=>s,contentTitle:()=>i,default:()=>d,frontMatter:()=>o,metadata:()=>l,toc:()=>u});var t=n(7462),r=(n(7294),n(3905));const o={},i="Como realizar consultas en SQL",l={unversionedId:"Navigator Database/Training-1",id:"Navigator Database/Training-1",title:"Como realizar consultas en SQL",description:"1. Resumen",source:"@site/docs/Navigator Database/Training-1.md",sourceDirName:"Navigator Database",slug:"/Navigator Database/Training-1",permalink:"/navigator-documentation/docs/Navigator Database/Training-1",draft:!1,editUrl:"https://github.com/Oslan17/navigator-documentation/tree/main/docs/docs/Navigator Database/Training-1.md",tags:[],version:"current",frontMatter:{},sidebar:"tutorialSidebar",previous:{title:"Navigator Database",permalink:"/navigator-documentation/docs/category/navigator-database"},next:{title:"Navigator Training Frontend",permalink:"/navigator-documentation/docs/Navigator Database/Training"}},s={},u=[{value:"1. Resumen",id:"1-resumen",level:2},{value:"2. Temas desarrollados",id:"2-temas-desarrollados",level:2},{value:"Agrupar por varios campos",id:"agrupar-por-varios-campos",level:2},{value:"3. Preguntas m\xe1s frecuentes",id:"3-preguntas-m\xe1s-frecuentes",level:2}],p={toc:u},m="wrapper";function d(e){let{components:a,...n}=e;return(0,r.kt)(m,(0,t.Z)({},p,n,{components:a,mdxType:"MDXLayout"}),(0,r.kt)("h1",{id:"como-realizar-consultas-en-sql"},"Como realizar consultas en SQL"),(0,r.kt)("h2",{id:"1-resumen"},"1. Resumen"),(0,r.kt)("p",null,"En la transcripci\xf3n se tratan temas relacionados con la creaci\xf3n de consultas en SQL. Se explica c\xf3mo utilizar las funciones ",(0,r.kt)("inlineCode",{parentName:"p"},"select"),", ",(0,r.kt)("inlineCode",{parentName:"p"},"from"),", ",(0,r.kt)("inlineCode",{parentName:"p"},"where"),", ",(0,r.kt)("inlineCode",{parentName:"p"},"group by")," y ",(0,r.kt)("inlineCode",{parentName:"p"},"order by"),". Tambi\xe9n se discuten los conceptos de agregaci\xf3n y distinci\xf3n."),(0,r.kt)("h2",{id:"2-temas-desarrollados"},"2. Temas desarrollados"),(0,r.kt)("p",null,"Obtener informaci\xf3n de las visitas"),(0,r.kt)("p",null,"Las vistas bw for information y bw for data son tablas virtuales que contienen informaci\xf3n de las visitas. Se pueden utilizar para obtener informaci\xf3n sobre las visitas, como la cantidad de visitas por tienda, por regi\xf3n, por formulario, por fecha, etc."),(0,r.kt)("p",null,"Para utilizar estas vistas, se debe utilizar la sintaxis de SQL. El primer paso es seleccionar los campos que se desean obtener. Luego, se debe indicar de d\xf3nde se va a obtener la informaci\xf3n. Finalmente, se deben agregar las condiciones necesarias para obtener los resultados deseados."),(0,r.kt)("p",null,"Algunas de las funciones que se pueden utilizar con estas vistas son las siguientes: ",(0,r.kt)("inlineCode",{parentName:"p"},"count"),", ",(0,r.kt)("inlineCode",{parentName:"p"},"sum"),", ",(0,r.kt)("inlineCode",{parentName:"p"},"average"),", ",(0,r.kt)("inlineCode",{parentName:"p"},"distinct")," y ",(0,r.kt)("inlineCode",{parentName:"p"},"group by"),"."),(0,r.kt)("p",null,(0,r.kt)("inlineCode",{parentName:"p"},"Count")," se utiliza para contar el n\xfamero de registros que cumplen con una determinada condici\xf3n."),(0,r.kt)("p",null,(0,r.kt)("inlineCode",{parentName:"p"},"Sum")," se utiliza para sumar los valores de un campo."),(0,r.kt)("p",null,(0,r.kt)("inlineCode",{parentName:"p"},"Average")," se utiliza para calcular el promedio de los valores de un campo."),(0,r.kt)("p",null,(0,r.kt)("inlineCode",{parentName:"p"},"Distinct")," se utiliza para obtener los valores distintos de un campo."),(0,r.kt)("p",null,(0,r.kt)("inlineCode",{parentName:"p"},"Group")," by se utiliza para agrupar los registros por un determinado campo."),(0,r.kt)("p",null,"Para obtener m\xe1s informaci\xf3n sobre c\xf3mo utilizar estas vistas, se puede consultar la documentaci\xf3n de ",(0,r.kt)("strong",{parentName:"p"},(0,r.kt)("a",{parentName:"strong",href:"https://docs.aws.amazon.com/redshift/"},"Redshift"))),(0,r.kt)("p",null,"Select por tienda, fecha y cantidad de visitas"),(0,r.kt)("p",null,"Para hacer un select por tienda, fecha y cantidad de visitas, se debe utilizar la siguiente sintaxis:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-jsx"},"SELECT count(*)\nFROM bw_for_information\nWHERE visit_date BETWEEN '2023-01-01' AND '2023-12-31'\nAND form_id = 3793\nGROUP BY store_id\n")),(0,r.kt)("p",null,"Donde:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"count(*)")," es la funci\xf3n que se utiliza para contar el n\xfamero de registros que cumplen con los criterios especificados."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"bw_for_information")," es la tabla de la que se van a obtener los datos."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"visit_date")," es el campo que se utiliza para filtrar los registros por fecha."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"2023-01-01")," y ",(0,r.kt)("inlineCode",{parentName:"li"},"2023-12-31")," son las fechas entre las que se van a filtrar los registros."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"form_id")," es el campo que se utiliza para filtrar los registros por formulario."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"store_id")," es el campo que se utiliza para agrupar los registros por tienda..")),(0,r.kt)("p",null,"Funci\xf3n ",(0,r.kt)("inlineCode",{parentName:"p"},"average")," para calcular el promedio de la duraci\xf3n de una visita\nPara calcular el promedio de la duraci\xf3n de una visita, se utiliza la funci\xf3n ",(0,r.kt)("inlineCode",{parentName:"p"},"average"),". La funci\xf3n ",(0,r.kt)("inlineCode",{parentName:"p"},"average")," lleva par\xe9ntesis y dentro de los par\xe9ntesis, el campo al que se le quiere aplicar la funci\xf3n. En este caso, el campo es b len, que indica cu\xe1nto tiempo dur\xf3 la visita."),(0,r.kt)("p",null,"Una vez que se ha aplicado la funci\xf3n ",(0,r.kt)("inlineCode",{parentName:"p"},"average"),", se puede dividir el resultado entre 60 para obtener el promedio en minutos."),(0,r.kt)("p",null,"Funci\xf3n ",(0,r.kt)("inlineCode",{parentName:"p"},"distinct")," para obtener los valores distintos de una columna"),(0,r.kt)("p",null,"La funci\xf3n ",(0,r.kt)("inlineCode",{parentName:"p"},"distinct")," se utiliza para obtener los valores distintos de una columna."),(0,r.kt)("p",null,"Para utilizar la funci\xf3n ",(0,r.kt)("inlineCode",{parentName:"p"},"distinct"),", se debe colocar la palabra ",(0,r.kt)("inlineCode",{parentName:"p"},"distinct")," antes del nombre de la columna."),(0,r.kt)("p",null,"Por ejemplo, el siguiente query utiliza la funci\xf3n distinct para obtener los valores distintos de la columna visitor name:\nselect distinct visitor name from bw for information"),(0,r.kt)("p",null,"Este query devolver\xe1 una lista de todos los valores distintos de la columna visitor name."),(0,r.kt)("h2",{id:"agrupar-por-varios-campos"},"Agrupar por varios campos"),(0,r.kt)("p",null,"Para agrupar por varios campos, es necesario utilizar la palabra clave ",(0,r.kt)("inlineCode",{parentName:"p"},"group by")," seguida de los campos por los que se quiere agrupar. Por ejemplo, el siguiente query agrupa los registros por la tienda y el momento de la visita:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-jsx"},"SELECT\n  store,\n  moment,\nCOUNT(*) AS num_visits\nFROM\nbw_for_information\nWHERE\nform_id = 3793\nGROUP BY\nstore,\nmoment\n")),(0,r.kt)("p",null,"El resultado de este query ser\xe1 una tabla con dos columnas: store y num_visits. Cada fila de la tabla representar\xe1 un grupo de registros que tienen el mismo valor en los campos store y moment. El campo num_visits contendr\xe1 el n\xfamero de registros que hay en cada grupo."),(0,r.kt)("p",null,"Se usa el comando ",(0,r.kt)("inlineCode",{parentName:"p"},"limit")," para limitar el n\xfamero de registros que se muestran"),(0,r.kt)("p",null,"El comando ",(0,r.kt)("inlineCode",{parentName:"p"},"limit")," se utiliza para limitar el n\xfamero de registros que se muestran en un resultado de consulta. Se utiliza despu\xe9s del ",(0,r.kt)("inlineCode",{parentName:"p"},"from")," y antes del ",(0,r.kt)("inlineCode",{parentName:"p"},"where"),". El formato es:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-jsx"},"SELECT * FROM table_name LIMIT number_of_rows\n")),(0,r.kt)("p",null,"Por ejemplo, para mostrar los primeros 10 registros de la tabla users, se utilizar\xeda el siguiente comando:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-jsx"},"SELECT * FROM users LIMIT 10\n")),(0,r.kt)("p",null,"El comando ",(0,r.kt)("inlineCode",{parentName:"p"},"limit")," se puede utilizar con cualquier tipo de consulta, incluyendo consultas con funciones de agregaci\xf3n."),(0,r.kt)("h2",{id:"3-preguntas-m\xe1s-frecuentes"},"3. Preguntas m\xe1s frecuentes"),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"\xbfC\xf3mo puedo obtener la cantidad de visitas por tienda?")),(0,r.kt)("p",null,"Para obtener la cantidad de visitas por tienda, puedes utilizar la funci\xf3n ",(0,r.kt)("inlineCode",{parentName:"p"},"count"),". Por ejemplo, el siguiente query te dar\xe1 la cantidad de visitas por tienda para el formulario 3793:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-jsx"},"select count(*)\nfrom bw for information\nwhere form = 3793\ngroup by store\n")),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"\xbfC\xf3mo puedo obtener el promedio de la duraci\xf3n de visita por tienda?")),(0,r.kt)("p",null,"Para obtener el promedio de la duraci\xf3n de visita por tienda, puedes utilizar la funci\xf3n ",(0,r.kt)("inlineCode",{parentName:"p"},"average"),". Por ejemplo, el siguiente query te dar\xe1 el promedio de la duraci\xf3n de visita por tienda para el formulario 3793:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-jsx"},"select avg(blen)\nfrom bw for information\nwhere form = 3793\ngroup by store\n")),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"\xbfC\xf3mo puedo obtener la cantidad de visitas por momento del d\xeda?")),(0,r.kt)("p",null,"Para obtener la cantidad de visitas por momento del d\xeda, puedes utilizar la funci\xf3n ",(0,r.kt)("inlineCode",{parentName:"p"},"count"),". Por ejemplo, el siguiente query te dar\xe1 la cantidad de visitas por momento del d\xeda para el formulario 3793:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-jsx"},"select count(*)\nfrom bw for information\nwhere moment is not null\ngroup by moment\n")),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"\xbfC\xf3mo puedo obtener los distintos valores de un campo?")),(0,r.kt)("p",null,"Para obtener los distintos valores de un campo, puedes utilizar la funci\xf3n ",(0,r.kt)("inlineCode",{parentName:"p"},"distinct"),". Por ejemplo, el siguiente query te dar\xe1 los distintos valores del campo visitor name:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-jsx"},"select distinct(visitor name)\nfrom bw for information\n")),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"\xbfC\xf3mo puedo saber qu\xe9 d\xeda tiene m\xe1s visitas una tienda?")),(0,r.kt)("p",null,"Para saber qu\xe9 d\xeda tiene m\xe1s visitas una tienda, puedes utilizar la funci\xf3n ",(0,r.kt)("inlineCode",{parentName:"p"},"max"),". La funci\xf3n max te da el valor m\xe1ximo de un campo. En este caso, el campo que queremos consultar es el visit date. Por lo tanto, el query ser\xeda:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-jsx"},"select max(visit date)\nfrom bw for information\nwhere form id = 3793\n")),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"\xbfCu\xe1l es el formulario que es m\xe1s recurrente?")),(0,r.kt)("p",null,"El formulario que es m\xe1s recurrente es el formulario 3793. Esto se puede comprobar con la funci\xf3n ",(0,r.kt)("inlineCode",{parentName:"p"},"count"),". La funci\xf3n ",(0,r.kt)("inlineCode",{parentName:"p"},"count")," te da el n\xfamero de registros que cumplen una condici\xf3n. En este caso, la condici\xf3n es que el form id sea igual a 3793. Por lo tanto, el query ser\xeda:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-jsx"},"select count(form id)\nfrom bw for information\nwhere form id = 3793\n")),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"\xbfCu\xe1l es el visitador que tiene m\xe1s visitas?")),(0,r.kt)("p",null,"El visitador que tiene m\xe1s visitas es el visitador que tiene el mayor n\xfamero de registros en la tabla. Para averiguarlo, podemos utilizar la funci\xf3n ",(0,r.kt)("inlineCode",{parentName:"p"},"max"),". La funci\xf3n max te da el valor m\xe1ximo de un campo. En este caso, el campo que queremos consultar es el visit id. Por lo tanto, el query ser\xeda:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-jsx"},"select max(visit id)\nfrom bw for information\n")),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"\xbfEn qu\xe9 momento realizaron la visita y cu\xe1ntas visitas se hicieron?")),(0,r.kt)("p",null,"Para saber en qu\xe9 momento realizaron la visita y cu\xe1ntas visitas se hicieron, podemos utilizar la funci\xf3n ",(0,r.kt)("inlineCode",{parentName:"p"},"group by"),". La funci\xf3n ",(0,r.kt)("inlineCode",{parentName:"p"},"group by")," te permite agrupar los registros por un campo. En este caso, los campos que queremos agrupar son el moment y el count. Por lo tanto, el query ser\xeda:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-jsx"},"select moment, count(*)\nfrom bw for information\ngroup by moment\n")))}d.isMDXComponent=!0}}]);